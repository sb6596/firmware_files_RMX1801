ui_print("# ---- Firmware-Files (C26) ---- #");
ui_print("# ---- Provided by ShubhamB | sb6596 ---- #");

ui_print("Patching firmware images...");
show_progress(0.650000, 0);
package_extract_file("firmware-images/abl.img", "/dev/block/bootdevice/by-name/abl");
package_extract_file("firmware-images/xbl.img", "/dev/block/bootdevice/by-name/xbl");
package_extract_file("firmware-images/dpAP.img", "/dev/block/bootdevice/by-name/apdp");
package_extract_file("firmware-images/DRIVER.img", "/dev/block/bootdevice/by-name/DRIVER");
package_extract_file("firmware-images/tz.img", "/dev/block/bootdevice/by-name/tz");
ifelse(get_storage_type() == "ufs",package_extract_file("firmware-images/bluetooth_ufs.img", "/dev/block/bootdevice/by-name/bluetooth"),package_extract_file("firmware-images/bluetooth.img", "/dev/block/bootdevice/by-name/bluetooth"));
ifelse(get_storage_type() == "ufs",package_extract_file("firmware-images/modem_ufs.img", "/dev/block/bootdevice/by-name/modem"),package_extract_file("firmware-images/modem.img", "/dev/block/bootdevice/by-name/modem"));
package_extract_file("firmware-images/mdtpsecapp.img", "/dev/block/bootdevice/by-name/mdtpsecapp");
package_extract_file("firmware-images/cmnlib64.img", "/dev/block/bootdevice/by-name/cmnlib64");
package_extract_file("firmware-images/splash.img", "/dev/block/bootdevice/by-name/splash");
package_extract_file("firmware-images/keymaster.img", "/dev/block/bootdevice/by-name/keymaster");
package_extract_file("firmware-images/dpMSA.img", "/dev/block/bootdevice/by-name/msadp");
package_extract_file("firmware-images/static_nvbk.img", "/dev/block/bootdevice/by-name/oppostanvbk");
package_extract_file("firmware-images/cmnlib.img", "/dev/block/bootdevice/by-name/cmnlib");
package_extract_file("firmware-images/logo.img", "/dev/block/bootdevice/by-name/LOGO");
package_extract_file("firmware-images/devcfg.img", "/dev/block/bootdevice/by-name/devcfg");
package_extract_file("firmware-images/dsp.img", "/dev/block/bootdevice/by-name/dsp");
ifelse(get_storage_type() == "ufs",package_extract_file("firmware-images/logfs_ufs_8mb.img", "/dev/block/bootdevice/by-name/logfs"),package_extract_file("firmware-images/logfs.img", "/dev/block/bootdevice/by-name/logfs"));
package_extract_file("firmware-images/storsec.img", "/dev/block/bootdevice/by-name/storsec");
package_extract_file("firmware-images/rpm.img", "/dev/block/bootdevice/by-name/rpm");
package_extract_file("firmware-images/pmic.img", "/dev/block/bootdevice/by-name/pmic");
package_extract_file("firmware-images/hyp.img", "/dev/block/bootdevice/by-name/hyp");
show_progress(0.200000, 10);
set_progress(1.000000);
